---
title: Internationalization
description: Learn how to use i18n routing in Astro.
i18nReady: false
---

import FileTree from '~/components/FileTree.astro'
import Since from '~/components/Since.astro'

Astro's internationalization (i18n) features allow you to adapt your project for an international audience.


## i18n Routing (experimental) 

{/* 

Enable the experimental routing option by adding an `i18n` object to your Astro configuration with a default location and a list of all languages to support:

```js
// astro.config.mjs
import {defineConfig} from "astro/config";

export default defineConfig({
    experimental: {
        i18n: {
            defaultLocale: "en",
            locales: ["en", "es", "pt_BR"]
        }
    }
})
```

Organize your content folders by locale, including your `defaultLocale` and `src/pages/index.astro` will now automatically default to the `index.astro` file of your default language.

```
├── src
│   ├── pages
│   │   ├── en
│   │   │   ├── about.astro
│   │   │   ├── index.astro
│   │   ├── es
│   │   │   ├── about.astro
│   │   │   ├── index.astro
│   │   ├── pt_BR
│   │   │   ├── about.astro
│   │   │   ├── index.astro
│   ├── index.astro
```

Compute relative URLs for your links with `getLocaleRelativeURL` from the new `astro:i18n` module:

```astro
---
import {getLocaleRelativeUrl} from "astro:i18n";
const aboutUrl = getLocaleRelativeUrl("pt_Br", "about");
---
<p>Learn more <a href={aboutURL}>About</a> this site!</p>
```

Enabling i18n routing also provides two new properties for browser language detection: `Astro.preferredLocale` and `Astro.preferredLocaleList`. These combine the browser's `Accept-Langauge` header, and your site's list of supported languages and can be used to automatically respect your visitor's preferred languages.


## Glossary

The current page will use some specific terminology related to internationalization:
- Locale: a code that represents a language.
- Localized folder: a folder/directory that is named after a locale.

*/}


<Since v="3.5.0" />

Astro's experimental i18n routing allows you to add your multilingual content with support for configuring a default language and URL path convention, computing relative page URLs, and accepting preferred languages provided by your visitor's browser.

This routing API helps you generate, use, and verify the URLs that your multi-language site produces. Check back and update regularly for the latest changes as this API continues to develop!


### Configure i18n routing

1. Enable the experimental routing option by adding an `i18n` object to your Astro configuration with a [default location (`defaultLocale`) and a list of all languages to support (`locales`)](#defaultlocale-and-locales):

   ```js title="astro.config.mjs"
   import { defineConfig } from "astro/config"
   export default defineConfig({
     experimental: {
       i18n: {
         defaultLocale: "en",
         locales: ["en", "es", "pt_BR"]
       }
     }
   })
   ```
  
    You can also specify a [`routingStrategy`](#routing-strategy) to customize the URLs for your default language.


2. Organize your content folders with localized content by language, including your `defaultLocale`. Your folder names must match your lthe items in `locales` exactly. `src/pages/index.astro` will now automatically redirect to the `index.astro` file of your default language.
    <FileTree>
    - src
      - pages
        - en
          - about.astro
          - index.astro
        - es
          - about.astro
          - index.astro
        - pt_BR
          - about.astro
          - index.astro
        - index.astro  (redirects to the route created for `/en/index.astro`)
    </FileTree>

    :::note
    The localised folders do not need to be at the root of the `/pages/` folder.
    
    Create individual `/[lang]/` folders anywhere within `src/pages/` and Astro's [file-based routing](/en/core-concepts/routing/) will create your pages at corresponding URL paths. 
    
    ```
    src/pages/blog/[lang]/about.astro -> example.com/blog/es/about/
    ```
    :::

3. When writing links to pages on your site, use a localized URL. You can write this URL directly, or compute it using the [`getRelativeLocaleURL()`](#getrelativelocaleurl) helper available from the [`astro:i18n` module](#virtual-module-astroi18n). This will always provide the correct, localized route and can help you correctly use, or check, URLs on your site.

    ```astro title="src/pages/es/index.astro"
    ---
    import { getRelativeLocaleUrl } from 'astro:i18n';
    const aboutURL=getRelativeLocaleUrl("es", "about");
    ---

    <a href="/es/get-started/">¡Vamos!</a>
    <a href={getRelativeLocaleUrl('es', 'blog')}>Blog</a>
    <a href={aboutURL}>Acerca</a> 
    ```

### `defaultLocale` and `locales`

Both a default language ([`defaultLocale`](en/reference/configuration-reference/#experimentali18ndefaultlocale)) and a list of all supported languages ([`locales`](en/reference/configuration-reference/#experimentali18nlocales)) must be specified in your `i18n` routing configuration.

Each language must be a string (e.g. `"fr"`, `"pt_BR"`), but no particular language format or syntax is enforced while this feature is still experimental and under development. This may be subject to change in future versions.

Your `/[lang]/` folder names must match exactly the `locales` in the list, and every supported language must have its own localized folder. 

Depending on your deploy host, you may discover transformations in URL paths, so check your deployed site to determine the best syntax for your project.

### Routing strategy 

The option `i18n.routingStrategy` allows to change the behaviour of the Astro routes

#### `'prefix-other-locales'`

```js title="astro.config.mjs" ins={7}
import { defineConfig } from "astro/config"
export default defineConfig({
  experimental: {
    i18n: {
      defaultLocale: "en",
      locales: ["es", "en", "fr"],
      routingStrategy: "prefix-other-locales"
    }
  }
})
```

This is the **default** value. With this option all the routes *without* locales belong to the default locale (`i18n.defaultLocale`), and the rest of the locales must have their locale code (prefix) in the URL.

- You want to have `example.com/content` for the default locale.
- You want to have `example.com/es/content` for the other locales.
- You want to have `example.com/` to redirect (302 status code) to `example.come/<i18n.defaultLocale>`.

#### `'prefix-always'`

```js title="astro.config.mjs" ins={7}
import { defineConfig } from "astro/config"
export default defineConfig({
  experimental: {
    i18n: {
      defaultLocale: "en",
      locales: ["es", "en", "fr"],
      routingStrategy: "prefix-always"
    }
  }
})
```

With this option, all the routes must have their locale code (prefix) in URL.

- You want to have `example.com/[locale]/content` for all routes.
- You want `example.com/content` to return a 404 (not found) status code.


### Browser language detection

When i18n routing is enabled, two new properties are available via [`Astro` global object](/en/reference/api-reference/#astro-global). These values are **only available in SSR**.

The values are calculated by deducing the languages supported by the browser - via the [`Accept-Language`](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Accept-Language) header -  and the locales supported by the website using [`i18n.locales`].

- `Astro.preferredLocale`: it's the locale requested by the browser and supported by the website. The value is `undefined` if:
  - The browser/user didn't set any preference.
  - The languages of the browser aren't part of [`i18n.locales`].


- `Astro.preferredLocaleList`: it's the locales requested by the browser and supported by the website. The value is `[]` if the languages of the browser aren't part of [`i18n.locales`]. The value is [`i18n.locales`] if the browser/user didn't specify any preference.
  

### Fallback

The fallback is a feature that allows to redirect a user from one locale to another. This is useful when pages of a locale miss, but you want to still provide some content to the user.

For example, we can tell Astro that when a route of the `pt` locale is missing, to redirect to the same route under the `es` locale, when you run the command `astro build`, Astro will create all the missing pages from `src/pages/pt/` that are in `src/pagess/es/`, and those pages will direct to the relative `es` locale.

```js title="astro.config.mjs" ins={6,7-9} ins=", \"pt\""
import { defineConfig } from "astro/config"
export default defineConfig({
  experimental: {
    i18n: {
      defaultLocale: "en",
      locales: ["es", "en", "fr", "pt"],
      fallback: {
        pt: "es"  
      }
    }
  }
})
```

If you have two pages in the `es/` folder, `index.astro` and `guide.astro`, and only one page in the `pt/` folder, `index.astro`; you run the command `astro build`, and in the `dist/pt/` folder you will have two pages: `index.html` with the contents of `index.astro`, and `guide.html`, which will redirect to `es/guide.html`:

<FileTree>
- dist
    - es
        - index.html
        - guide
            - index.html
    - pt
        - index.html
        - guide
            - index.html
  - pages
    - es
      - index.astro
      - guide.astro
    - pt
      - index.astro
</FileTree>


## Virtual module `astro:i18n`

This module provides functions that can help you to create URLs using the locales.

All the functions below take into account the following options, so the returned paths will change based on their values:

- [`base`](/en/reference/configuration-reference/#base)
- [`trailingSlash`](/en/reference/configuration-reference/#trailingslash)
- [`build.format`](/en/reference/configuration-reference/#buildformat)
- [`site`](/en/reference/configuration-reference/#site)

If `i18n.routingStrategy` is equals to `'prefix-other-locales'`, when the functions will process the `i18n.defaultLocale` when passed as input, the returned URLs **won't** contain the `i18n.defaultLocale`.  

### `getRelativeLocaleUrl()`


`getRelativeLocaleUrl(locale: string, path: string, options?: GetLocaleOptions): string`

Use this function to retrieve a relative path for a locale. If the locale doesn't exist, Astro throws an error. 

```astro title="src/pages/en/index.astro"
---
import {getRelativeLocaleUrl} from "astro:i18n";

getRelativeLocaleUrl("fr", ""); // returns /fr
getRelativeLocaleUrl("fr", "getting-started"); // returns /fr/getting-started
getRelativeLocaleUrl("fr_CA", "getting-started", {
  prependWith: "blog"
}); // returns /blog/fr-ca/getting-started

getRelativeLocaleUrl("fr_CA", "getting-started", {
  prependWith: "blog",
  normalizeLocale: false
}); // returns /blog/fr_CA/getting-started

---
```

### `getAbsoluteLocaleUrl()` 

`getAbsoluteLocaleUrl(locale: string, path: string, options?: GetLocaleOptions): string`


Use this function to retrieve an absolute path for a locale _if [`site`] has a value_. If [`site`] isn't, the function returns a relative URL. If the locale doesn't exist, Astro throws an error.


```astro title="src/pages/en/index.astro"
---
import {getAbsoluteLocaleUrl} from "astro:i18n";

// If `site` is set to be `https://example.com`

getAbsoluteLocaleUrl("fr", ""); // returns https://example.com/fr
getAbsoluteLocaleUrl("fr", "getting-started"); // returns https://example.com/fr/getting-started
getAbsoluteLocaleUrl("fr_CA", "getting-started", {
  prependWith: "blog"
}); // returns https://example.com/blog/fr-ca/getting-started

getAbsoluteLocaleUrl("fr_CA", "getting-started", {
  prependWith: "blog",
  normalizeLocale: false
}); // returns https://example.com/blog/fr_CA/getting-started

---
```

### `getRelativeLocaleUrlList()`

It works like [`getRelativeLocaleUrl`](#getrelativelocaleurl), so it returns a list of relative paths for all the locales.


`getRelativeLocaleUrlList(locale: string, options?: GetLocaleOptions): string[]`

### `getAbsoluteLocaleUrlList()`

`getAbsoluteLocaleUrlList(locale: string, options?: GetLocaleOptions): string[]`


It works like [`getAbsoluteLocaleUrl`](#getabsolutelocaleurl), so it returns a list of relative paths for all the locales.





[`site`]: /en/reference/configuration-reference/#site
[`i18n.locales`]: /en/reference/configuration-reference/#experimentali18nlocales
