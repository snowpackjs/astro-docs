---
title: معمارية الصفحة الواحدة (SPA) مقابل الصفحات المتعددة (MPA)
description: "يعد فهم المفاضلات بين معمارية التطبيق متعدد الصفحات (MPA) وتطبيق الصفحة الواحدة (SPA) أمرا أساسيا لفهم ما يجعل استرو مختلفا عن أطر الويب الأخرى."
i18nReady: true
---

يعد فهم المفاضلات بين بنية التطبيق متعدد الصفحات (MPA) وتطبيق الصفحة الواحدة (SPA) أمرا أساسيا لفهم ما يجعل استرو مختلفا عن أطر الويب الأخرى مثل Next.js وRemix.

## المصطلحات

**التطبيق متعدد الصفحات (MPA)** هو موقع ويب يتكون من صفحات HTML متعددة، يتم تقديمها في الغالب من خادم. عند الانتقال إلى صفحة جديدة، يطلب متصفحك صفحة HTML جديدة من الخادم. **استرو هو إطار متعدد الصفحات MPA.** تشمل أطر MPA الكلاسيكية أيضا Ruby on Rails و Python Django و PHP Laravel و WordPress و Joomla و Drupal ومولدات المواقع الثابتة مثل Eleventy أو Hugo.

**تطبيق الصفحة الواحدة (SPA)**
هو موقع ويب يتكون من تطبيق جافا سكريبت واحد يتم تحميله في متصفح المستخدم ثم تُقدم HTML من المتصفح. قد تقوم تطبيقات الصفحة الواحدة *أيضا* بإنشاء HTML على الخادوم. ولكن تتميز تطبيقات الصفحة الواحدة بقدرتها على تشغيل موقعك كتطبيق JavaScript في المتصفح يقدم صفحة HTML جديدة عند الانتقال بين الصفحات. ويمثل Next.js وNuxt وSvelteKit وRemix وGatsby وCreate React App أمثلة على إطارات عمل SPA.

## استرو مقارنةً بأطر MPA الأخرى

استرو هو إطار متعدد الصفحات. ومع ذلك، فإن استرو متميز عن أطر MPA الأخرى. الفرق الرئيسي هو استخدامه جافاسكريبت كلغة خادم ومتصفح. ستجعلك أطر MPA الكلاسيكية تكتب لغة مختلفة على الخادم (Ruby و PHP وما إلى ذلك) و جافاسكريبت على المتصفح. في استرو، أنت دائما تكتب جافا سكريبت و HTML و CSS. بهذه الطريقة، يمكنك تقديم مكونات الواجهة (مثل React وSvelte) من الخادم أوالمتصفح.

والنتيجة هي تجربة مطور تشبه إلى حد كبير Next.js وأطر الويب الحديثة الأخرى، ولكن مع خصائص أداء معمارية MPA التقليدية.

## MPAs vs. SPAs

هناك ثلاثة اختلافات رئيسية يجب أن تكون على دراية بها عند مقارنة معمارية MPA مقابل معمارية SPA:

#### التقديم من الخادم(اطر MPA) مقابل. التقديم من المتصفح (SPA)

في معمارية MPA، يتم تقديم معظم HTML لصفحتك من الخادم. في معمارية SPA، يتم تقديم معظم HTML محليا بتشغيل جافاسكريبت في المتصفح. هذا له تأثير كبير على سلوك الموقع وأدائه ونتائج محركات البحث (SEO).

قد يبدو تقديم HTML من المتصفح وكأنه الخيار الأسرع مقابل جلبه من خادم بعيد. ومع ذلك، فإن العكس هو الصحيح. ستعمل تطبيقات الصفحة الواحدة دائما بشكل أبطأ عند تحميل الصفحة الأولى مقابل معمارية MPA، (ما لم يتم  التقديم من الخادم). وذلك لأن معمارية SPA تحتاج إلى تنزيل تطبيق جافا سكريبت كامل وتحليله وتشغيله في المتصفح فقط لتقديم أبسط HTML على الصفحة. مع ذلك، غالبا سيحتاج تطبيقك إلى جلب البيانات من خادم، مما يطيل وقت الانتظار قبل الانتهاء من تحميل الصفحة وعرضها.

ستحاول معظم أطر SPA التخفيف من مشكلة الأداء هذه عن طريق تقديم الصفحة الأولى بشكل بسيط من الخادم. هذا تحسن، ولكنه يقدم تعقيدا جديدا نظرا لحقيقة لأن موقعك يمكنه الآن تقديم HTML بطرق متعددة ومن بيئات متعددة (الخادم والمتصفح). يقدم هذا أيضا مشكلة جديدة تعرف بـ"uncanny valley" حيث يظهر (HTML) في المتصفح، لكنه لا يستجيب لأن منطق جافا سكريبت للتطبيق لا يزال قيد التحميل في الخلفية.

اطر MPA تقدم كل كود HTML من الخادم وغالبا لا تتطلب جافا سكريبت لتشغيلها. هذا يمنحها تجربة تحميل أولى أسرع بكثير من اطر SPA، وهو أمر ضروري لمواقع الويب التي تركز على المحتوى. ولكن هذا يأتي مع مقايضة: لا يمكن الاستفادة من التقديم من المتصفح عند تصفح بقية الموقع، لذلك لن يستفيد من يستخدم الموقع لفترة طويلة بنفس القدر بعد تحميل الصفحة الأولى.

#### التنقل على الخادم (اطر MPA) مقابل.   التنقل على المتصفح (اطر SPA)

على ما يعتمد موقعك في آلية التنقل؟ في اطر MPA، كل طلب الى الخادم يحدد أي صفحة سيرد بها، لذلك كود التنقل يظل في الخادم. في اطر SPA، كود التنقل موجود في المتصفح ، ليتلقف اي طلب ويقدم الصفحة المطلوبة دون اللجوء للخادم. 

هذه مقايضة مماثلة لتلك الموضحة أعلاه: توفر اطر MPA تجربة تحميل أولى أسرع، في حين قد تقدم SPAs تحميلا أسرع للصفحة الثانية أو الثالثة بمجرد تحميل تطبيق جافا سكريبت بالكامل في المتصفح.

يمكن أن توفر اطر SPA أيضا تأثيرات تنقل أفضل عند التنقل في الصفحة لأنها تتحكم كثيرا في عرض الصفحة. لتقديم نفس الميزة، تستفيد اطر MPA من أدوات مثل [Turbo](https://turbo.hotwired.dev/) الذي يحاكي اطر SPA بالتنقل من خلال المتصفح. لا يزال تقديم HTML من الخادم، ولكن يمكن ل Turbo الآن عرض انتقال سلس بين الصفحات مشابه للتنقل في SPA.

#### إدارة الحالة (state management) على السيرفر (MPA) مقابل. إدارة الحالة في المتصفح (SPA)

اطر SPA هي البنية المتفوقة لمواقع الويب التي تتعامل مع إدارة الحالة المعقدة ومتعددة الصفحات (مثل: Gmail). وذلك لأن SPA يدير موقع الويب بأكمله كتطبيق جافا سكريبت واحد، مما يتيح للتطبيق الحفاظ على الحالة والذاكرة عبر صفحات متعددة. تعمل المواقع التفاعلية القائمة على البيانات مثل صندوق الوارد ولوحات التحكم بشكل جيد في اطر SPA  لأن موقع الويب نفسه "يعمل كتطبيق".

## هل اطر MPA افضل من SPA ؟

عند مقارنة اطر MPA مقابل اطر SPA، لا يوجد خيار "أفضل" أو "أسوأ". كل شيء يتعلق بالاحتياجات.

**تعطي Astro الأولوية لأداء وبساطة اطر MPA لأنها الأكثر منطقية لحالة استخدامنا (مواقع الويب الموجهة للمحتوى).** قد تستفيد مواقع الويب الأكثر تعقيدا وثقيلة التفاعل أكثر من البنية الشبيهة بالتطبيق التي توفرها اطر SPA على حساب الأداء في التحميل الأول.

:::note[Accessibility]
تستخدم التطبيقات متعددة الصفحات (MPAs) عنصر العنوان `<a>` القياسي للتنقل، وهذا يوفر ميزات الوصول الهامة مثل إدارة حالات التنقل وتوضيح الروابط.
:::

## دراسات حالة

فيما يلي جميع مقارنات Astro المتاحة التي نعرفها:

- [Astro vs. SPA (Next.js)](https://twitter.com/t3dotgg/status/1437195415439360003) - جافاسكريبت اقل بـ 94%
- [Astro vs. SPA (Next.js)](https://twitter.com/jlengstorf/status/1442707241627385860?lang=en) - تحميل اسرع بـ 34%
- [Astro vs. SPA (Next.js)](https://vanntile.com/blog/next-to-astro) – استخدام شبكة أقل بـ 65%
- [Astro vs. SPA (Remix, SvelteKit)](https://www.youtube.com/watch?v=2ZEMb_H-LYE&t=8163s) - "هنا [نتيجة Lighthouse] مذهلة."
- [Astro vs. Qwik](https://www.youtube.com/watch?v=2ZEMb_H-LYE&t=8504s) - تراجع وقت جاهزية الصفحة للتفاعل (TTI) بنسبة 43%.


إذا كنت تعرف عملية انتقال لاسترو أو اختبار أداء عام ولم ترها مدرجة هنا، فيرجى إنشاء طلب سحب (Pull Request) لإضافتها.

## مصادر إضافية

إذا كنت ترغب في معرفة المزيد، فقد قام Surma (Google) و Jake Archibald (Google) بتسجيل مناقشة رائعة حول [هذا الموضوع](https://www.youtube.com/watch?v=ivLhf3hq7eM) بينهما.


