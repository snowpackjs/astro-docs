---
const { lang, meta } = Astro.props;
---
<style lang="scss" is:global>
	pre.astro-code {
		--glow-border: 1px solid var(--theme-glow-highlight);
		padding: var(--padding-block) 0;
		border-top: var(--glow-border);
		border-bottom: var(--glow-border);
		box-shadow: 0 0 var(--theme-glow-blur) var(--theme-glow-diffuse), inset 0 0 var(--theme-glow-blur) var(--theme-glow-diffuse);
		/* override inline styles generated by shiki */
		background-color: var(--theme-code-bg) !important;
		color: var(--theme-code-text) !important;
		line-height: 1.65;

		@media (min-width: 37.75em) {
			--padding-inline: 1.25rem;
			border: var(--glow-border);
			margin-left: 0;
			margin-right: 0;
		}

		&:focus {
			outline: 4px solid var(--theme-accent);
		}

		& > code {
			all: unset;
			display: inline-block;
			min-width: 100%;

			& > .line {
				display: inline-block;
				min-width: 100%;
				padding-inline-start: 1.25rem;
				padding-inline-end: calc(2 * 1.25rem);
			}

			& > .line:nth-child(4) {
				background: hsla(var(--color-base-purple), 70%, 0.2);
				border-left: 0.25rem solid hsla(var(--color-base-purple), 50%, 1);
				padding-left: calc(1.25rem - 0.25rem) !important;
			}
		}
	}
</style>
<div>
	<slot/>
	<!-- <p>This is a code snippet with props {JSON.stringify({ lang, meta })}!</p> -->
</div>
